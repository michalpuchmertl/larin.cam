{"version":3,"sources":["utils/firebase.js","pages/Register/schema.config.js","providers/UserContext.jsx","pages/Login/Login.jsx","components/VideoJS.jsx","pages/Livestream/_Chat.jsx","pages/Livestream/Livestream.jsx","pages/Register/Register.jsx","utils/routes.jsx","App.jsx","index.js"],"names":["instance","schema","yup","shape","username","email","required","password","min","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getFirebase","window","firebase","initializeApp","UserContext","createContext","UserContextProvider","children","useState","currentUser","setCurrentUser","Provider","value","Register","props","userContext","useContext","history","useHistory","formOptions","mode","reValidateMode","resolver","yupResolver","useForm","handleSubmit","register","setLoading","makeRequest","reqData","a","auth","signInWithEmailAndPassword","then","userCredential","console","log","user","push","catch","error","authenticated","initializing","authentication","setAuthState","useEffect","onAuthStateChanged","to","className","action","onSubmit","formData","htmlFor","type","name","id","minLength","message","VideoJS","videoRef","React","useRef","options","VideoHtml","ref","player","videoElement","current","videojs","dispose","sampleMessages","time","photoUrl","Chat","map","msg","src","alt","Livestream","videoSrc","setVideoSrc","fetch","res","url","json","videoJsOptions","autoplay","controls","responsive","liveui","fluid","sources","createUserWithEmailAndPassword","ROUTES","path","key","exact","protected","component","Login","RenderRoutes","routes","route","i","render","App","ReactDOM","document","getElementById"],"mappings":"yLAWIA,E,4HCCWC,EARAC,MAAaC,MAAM,CAChCC,SAAUF,MAAaG,QAAQC,SAAS,iCACxCC,SAAUL,MAEPM,IAAI,EAAG,gDACPF,SAAS,mC,QDPVG,EAAiB,CACnBC,OAAQ,0CACRC,WAAY,2BACZC,UAAW,WACXC,cAAe,uBACfC,kBAAmB,cACnBC,MAAO,4CAKM,SAASC,IACtB,MAAsB,qBAAXC,OACLjB,IACJA,EAAWkB,IAASC,cAAcV,IAI7B,K,WEjBIW,EAAcC,wBAAc,MAW1BC,MATf,YAA4C,IAAbC,EAAY,EAAZA,SAC7B,EAAsCC,mBAAS,MAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,OACE,cAACN,EAAYO,SAAb,CAAsBC,MAAO,CAAEH,cAAaC,kBAA5C,SACGH,KCsHQM,MAtHf,SAAkBC,GAChB,IAAMC,EAAcC,qBAAWZ,GACzBa,EAAUC,cACVhB,EAAWF,IAEXmB,EAAc,CAClBC,KAAM,WACNC,eAAgB,WAChBC,SAAUC,YAAYtC,IAGxB,EAAmCuC,YAAQL,GAAnCM,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,SAEtB,EAA8BlB,oBAAS,GAAvC,mBAAgBmB,GAAhB,WAYMC,EAAW,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,sDAClBH,GAAW,GAEHvC,EAAuByC,EAAvBzC,SAAUG,EAAasC,EAAbtC,SAElBW,EACG6B,OACAC,2BAA2B5C,EAAUG,GACrC0C,MAAK,SAACC,GACLP,GAAW,GACXQ,QAAQC,IAAIF,GACZ,IAAMG,EAAOH,EAAeG,KAC5BtB,EAAYL,eAAe2B,GAC3BpB,EAAQqB,KAAK,QAEdC,OAAM,SAACC,GACNL,QAAQK,MAAMA,MAhBA,2CAAH,sDAoBjB,EAAuChC,mBAAS,CAC9CiC,eAAe,EACfC,cAAc,IAFhB,mBAAOC,EAAP,KAAuBC,EAAvB,KAwBA,OAnBAC,qBACE,kBACE3C,EAAS6B,OAAOe,oBAAmB,SAACT,GAClCF,QAAQC,IAAI,OAAQC,GAElBO,EADEP,EACW,CACXI,eAAe,EACfC,cAAc,GAGH,CACXD,eAAe,EACfC,cAAc,SAItB,CAACE,IAGCD,EAAeF,cACV,cAAC,IAAD,CAAUM,GAAG,MAIpB,sBAAKC,UAAU,YAAf,UACE,yCACA,uBACEC,OAAO,GACPC,SAAUzB,GA/DO,SAAC0B,GACtB,IAAQ5D,EAAuB4D,EAAvB5D,SAAUH,EAAa+D,EAAb/D,SAMlBwC,EALgB,CACdxC,WACAG,gBA4DEyD,UAAU,+BAHZ,UAKE,sBAAKA,UAAU,aAAf,UACE,uBAAOI,QAAQ,WAAf,mBACA,iDACM1B,EAAS,aADf,IAEE2B,KAAK,OACLC,KAAK,WACLN,UAAS,4BACTO,GAAG,iBAIP,sBAAKP,UAAU,aAAf,UACE,uBAAOI,QAAQ,WAAf,sBACA,iDACM1B,EAAS,WAAY,CACvB8B,UAAW,CACT5C,MAAO,EACP6C,QAAS,oDAJf,IAOEJ,KAAK,WACLC,KAAK,WACLN,UAAS,4BACTO,GAAG,iBAIP,wBAAQP,UAAU,6BAA6BK,KAAK,SAApD,6B,SClFOK,G,cA9BQ,SAAC5C,GACtB,IAAM6C,EAAWC,IAAMC,OAAO,MACtBC,EAAYhD,EAAZgD,QAIFC,EAAY,SAACjD,GAAD,OAChB,qBAAK,qBAAL,SACE,uBACEkD,IAAKL,EACLX,UAAU,qDAkBhB,OAbAY,IAAMf,WAAU,WACd,IACIoB,EADEC,EAAeP,EAASQ,QAK9B,OAHID,IACFD,EAASG,YAAQF,EAAcJ,GAAS,gBAEnC,WACDG,GACFA,EAAOI,aAGV,CAACP,IAEG,cAACC,EAAD,MC9BHO,EAAiB,CACrB,CACElF,SAAU,SACVqE,QAAS,eACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,eACVqE,QAAS,gBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,OACVqE,QAAS,wBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,eACVqE,QAAS,gBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,SACVqE,QAAS,eACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,eACVqE,QAAS,gBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,OACVqE,QAAS,wBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,eACVqE,QAAS,gBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,SACVqE,QAAS,eACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,eACVqE,QAAS,gBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,OACVqE,QAAS,wBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,eACVqE,QAAS,gBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,SACVqE,QAAS,eACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,eACVqE,QAAS,gBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,OACVqE,QAAS,wBACTc,KAAM,QACNC,SAAU,yDAEZ,CACEpF,SAAU,eACVqE,QAAS,gBACTc,KAAM,QACNC,SAAU,0DA8BCC,MA1Bf,SAAc3D,GAgBZ,OACE,sBAAKkC,UAAU,OAAf,UACE,sCACA,qBAAKA,UAAU,WAAf,SAjBKsB,EAAeI,KAAI,SAACC,GACzB,IAAQvF,EAAsCuF,EAAtCvF,SAAUqE,EAA4BkB,EAA5BlB,QAAee,GAAaG,EAAnBJ,KAAmBI,EAAbH,UACjC,OACE,sBAAKxB,UAAU,yCAAf,UACE,qBAAK4B,IAAKJ,EAAUK,IAAI,GAAG7B,UAAU,SACrC,sBAAKA,UAAU,uCAAf,UACE,sBAAMA,UAAU,WAAhB,SAA4B5D,IAC5B,mBAAG4D,UAAU,eAAb,SAA6BS,mB,OC9C1BqB,MAtDf,SAAoBhE,GACHd,IAAf,IAEA,EAAgCQ,mBAAS,MAAzC,mBAAOuE,EAAP,KAAiBC,EAAjB,KAEAnC,qBAAU,WACRoC,MAAM,sCAAsChD,MAAK,SAACiD,GAChD,IAAMC,EAAMD,EAAIE,OAChBjD,QAAQC,IAAI+C,GACZH,EAAYG,QAEb,IAGHhD,QAAQC,IAAI,MAAO2C,GAEnB,IAAMM,EAAiB,CAErBC,UAAU,EACVC,UAAU,EACVC,YAAY,EACZC,QAAQ,EACRC,OAAO,EACPC,QAAS,CACP,CACEf,IAAKG,EACL1B,KAAM,2BAKZ,OAAK0B,EAKH,sBAAK/B,UAAU,YAAf,uBAEE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,qBAAKA,UAAU,gBAAf,SACE,cAAC,EAAD,CAASc,QAASuB,QAGtB,qBAAKrC,UAAU,kBAAf,SACE,cAAC,EAAD,YAbC,8C,OC4CInC,MAhFf,SAAkBC,GAChB,IAAMK,EAAc,CAClBC,KAAM,WACNC,eAAgB,WAChBC,SAAUC,YAAYtC,IAGxB,EAAmCuC,YAAQL,GAAnCM,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,SAEtB,EAA8BlB,oBAAS,GAAvC,mBAYMoB,GAZN,UAYiB,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,sDACV1C,EAAuByC,EAAvBzC,SAAUG,EAAasC,EAAbtC,SACLW,IAAS6B,OAGnB6D,+BAA+BxG,EAAUG,GACzC0C,MAAK,SAACC,GACQA,EAAeG,QAE7BE,OAAM,SAACC,GACNL,QAAQK,MAAMA,MAVA,2CAAH,uDAcjB,OACE,sBAAKQ,UAAU,YAAf,UACE,oDACA,uBACEC,OAAO,GACPC,SAAUzB,GA7BO,SAAC0B,GACtB,IAAQ5D,EAAuB4D,EAAvB5D,SAAUH,EAAa+D,EAAb/D,SAMlBwC,EALgB,CACdxC,WACAG,gBA0BEyD,UAAU,+BAHZ,UAKE,sBAAKA,UAAU,aAAf,UACE,uBAAOI,QAAQ,WAAf,mBACA,iDACM1B,EAAS,aADf,IAEE2B,KAAK,OACLC,KAAK,WACLN,UAAS,4BACTO,GAAG,iBAIP,sBAAKP,UAAU,aAAf,UACE,uBAAOI,QAAQ,WAAf,sBACA,iDACM1B,EAAS,WAAY,CACvB8B,UAAW,CACT5C,MAAO,EACP6C,QAAS,oDAJf,IAOEJ,KAAK,WACLC,KAAK,WACLN,UAAS,4BACTO,GAAG,iBAIP,wBAAQP,UAAU,6BAA6BK,KAAK,SAApD,6BCxEKwC,EAAS,CACpB,CACEC,KAAM,IACNC,IAAK,OACLC,OAAO,EACPC,WAAW,EACXC,UAAW,kBAAM,cAAC,EAAD,MAEnB,CACEJ,KAAM,SACNC,IAAK,QACLC,OAAO,EACPE,UAAW,kBAAM,cAACC,EAAD,MAEnB,CACEL,KAAM,YACNC,IAAK,WACLC,OAAO,EACPE,UAAW,kBAAM,cAAC,EAAD,MAEnB,CACEJ,KAAM,SACNC,IAAK,QACLC,OAAO,EACPC,WAAW,EACXC,UAAW,kBAAM,cAAC,EAAD,OAId,SAASE,EAAT,GAAmC,IAAXC,EAAU,EAAVA,OACvBnG,EAAWF,IAEjB,EAAuCQ,mBAAS,CAC9CiC,eAAe,EACfC,cAAc,IAFhB,mBAAOC,EAAP,KAAuBC,EAAvB,KAwBA,OAnBAC,qBACE,kBACE3C,EAAS6B,OAAOe,oBAAmB,SAACT,GAClCF,QAAQC,IAAI,OAAQC,GAElBO,EADEP,EACW,CACXI,eAAe,EACfC,cAAc,GAGH,CACXD,eAAe,EACfC,cAAc,SAItB,CAACE,IAGCD,EAAeD,aACV,6CAIP,cAAC,IAAD,UACE,eAAC,IAAD,WACG2D,EAAO3B,KAAI,SAAC4B,EAAOC,GAClB,OAAID,EAAML,UACJtD,EAEA,cAAC,IAAD,CACEmD,KAAMQ,EAAMR,KACZE,MAAOM,EAAMN,MACbQ,OAAQ,SAAC1F,GAAD,OACN,cAACwF,EAAMJ,UAAP,2BAAqBpF,GAArB,IAA4BuF,OAAQC,EAAMD,aAKzC,cAAC,IAAD,CAAUtD,GAAG,WAItB,cAAC,IAAD,CACE+C,KAAMQ,EAAMR,KACZE,MAAOM,EAAMN,MACbQ,OAAQ,SAAC1F,GAAD,OACN,cAACwF,EAAMJ,UAAP,2BAAqBpF,GAArB,IAA4BuF,OAAQC,EAAMD,gBAKlD,cAAC,IAAD,CAAOH,UAAW,kBAAM,0D,OC9EjBO,MAVf,WACE,OACE,qBAAKzD,UAAU,MAAf,SACE,cAAC,EAAD,UACE,cAACoD,EAAD,CAAcC,OAAQR,SCN9Ba,IAASF,OAAO,cAAC,EAAD,IAASG,SAASC,eAAe,W","file":"static/js/main.826ef25c.chunk.js","sourcesContent":["import firebase from 'firebase';\n\nvar firebaseConfig = {\n  apiKey: 'AIzaSyCDN0Hii6Mznt2Y_DaRprMWVn7kwR9-xlY',\n  authDomain: 'larincam.firebaseapp.com',\n  projectId: 'larincam',\n  storageBucket: 'larincam.appspot.com',\n  messagingSenderId: '70794209044',\n  appId: '1:70794209044:web:1f0ccefcdfb498f5fcc401',\n};\n// Initialize Firebase\nlet instance;\n\nexport default function getFirebase() {\n  if (typeof window !== 'undefined') {\n    if (instance) return instance;\n    instance = firebase.initializeApp(firebaseConfig);\n    return instance;\n  }\n\n  return null;\n}\n","import * as yup from 'yup';\n/**\n * Schema contains validation functions for each input.\n */\nconst schema = yup.object().shape({\n  username: yup.string().email().required('Username is a required field.'),\n  password: yup\n    .string()\n    .min(6, 'Password must be at least 6 characters long.')\n    .required('Password is a required field.'), // we should define some password rules here\n});\n\nexport default schema;\n","import React, { createContext, useState } from 'react';\nimport firebase from 'firebase';\n\nexport const UserContext = createContext(null);\n\nfunction UserContextProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState(null);\n  return (\n    <UserContext.Provider value={{ currentUser, setCurrentUser }}>\n      {children}\n    </UserContext.Provider>\n  );\n}\n\nexport default UserContextProvider;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { useForm, UseFormProps, SubmitHandler } from 'react-hook-form';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport schema from '../Register/schema.config';\nimport getFirebase from '../../utils/firebase';\n\nimport { UserContext } from '../../providers/UserContext';\n\nfunction Register(props) {\n  const userContext = useContext(UserContext);\n  const history = useHistory();\n  const firebase = getFirebase();\n\n  const formOptions = {\n    mode: 'onSubmit',\n    reValidateMode: 'onChange',\n    resolver: yupResolver(schema),\n  };\n\n  const { handleSubmit, register } = useForm(formOptions);\n\n  const [loading, setLoading] = useState(false);\n\n  const prepareRequest = (formData) => {\n    const { password, username } = formData;\n    const reqData = {\n      username,\n      password,\n    };\n\n    makeRequest(reqData);\n  };\n\n  const makeRequest = async (reqData) => {\n    setLoading(true);\n\n    const { username, password } = reqData;\n\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(username, password)\n      .then((userCredential) => {\n        setLoading(false);\n        console.log(userCredential);\n        const user = userCredential.user;\n        userContext.setCurrentUser(user);\n        history.push('/');\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  const [authentication, setAuthState] = useState({\n    authenticated: false,\n    initializing: true,\n  });\n\n  useEffect(\n    () =>\n      firebase.auth().onAuthStateChanged((user) => {\n        console.log('USER', user);\n        if (user) {\n          setAuthState({\n            authenticated: true,\n            initializing: false,\n          });\n        } else {\n          setAuthState({\n            authenticated: false,\n            initializing: false,\n          });\n        }\n      }),\n    [setAuthState]\n  );\n\n  if (authentication.authenticated) {\n    return <Redirect to='/' />;\n  }\n\n  return (\n    <div className='container'>\n      <h1>Sign in</h1>\n      <form\n        action=''\n        onSubmit={handleSubmit(prepareRequest)}\n        className='mt-3 col-12 col-md-5 mx-auto'\n      >\n        <div className='form-group'>\n          <label htmlFor='username'>Email</label>\n          <input\n            {...register('username')}\n            type='text'\n            name='username'\n            className={`form-control rounded mt-2`}\n            id='username'\n          />\n        </div>\n\n        <div className='form-group'>\n          <label htmlFor='password'>Password</label>\n          <input\n            {...register('password', {\n              minLength: {\n                value: 6,\n                message: 'Password length must be at least 6 characters',\n              },\n            })}\n            type='password'\n            name='password'\n            className={`form-control rounded mt-2`}\n            id='password'\n          />\n        </div>\n\n        <button className='btn btn-primary mt-4 w-100' type='submit'>\n          Register\n        </button>\n      </form>\n    </div>\n  );\n}\n\nRegister.propTypes = {};\n\nexport default Register;\n","import React from 'react';\nimport videojs from 'video.js';\nimport 'video.js/dist/video-js.css';\nimport '@videojs/themes/dist/city/index.css';\n\nexport const VideoJS = (props) => {\n  const videoRef = React.useRef(null);\n  const { options } = props;\n\n  // This seperate functional component fixes the removal of the videoelement\n  // from the DOM when calling the dispose() method on a player\n  const VideoHtml = (props) => (\n    <div data-vjs-player>\n      <video\n        ref={videoRef}\n        className='video-js vjs-theme-city vjs-big-play-centered'\n      />\n    </div>\n  );\n\n  React.useEffect(() => {\n    const videoElement = videoRef.current;\n    let player;\n    if (videoElement) {\n      player = videojs(videoElement, options, () => {});\n    }\n    return () => {\n      if (player) {\n        player.dispose();\n      }\n    };\n  }, [options]);\n\n  return <VideoHtml />;\n};\nexport default VideoJS;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst sampleMessages = [\n  {\n    username: 'Michal',\n    message: 'Jeee Larinka',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Káťa',\n    message: 'No jo opravdu',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Adam',\n    message: 'Je báječná',\n    time: '17:03',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Káťa',\n    message: 'No jo opravdu',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Michal',\n    message: 'Jeee Larinka',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Káťa',\n    message: 'No jo opravdu',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Adam',\n    message: 'Je báječná',\n    time: '17:03',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Káťa',\n    message: 'No jo opravdu',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Michal',\n    message: 'Jeee Larinka',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Káťa',\n    message: 'No jo opravdu',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Adam',\n    message: 'Je báječná',\n    time: '17:03',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Káťa',\n    message: 'No jo opravdu',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Michal',\n    message: 'Jeee Larinka',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Káťa',\n    message: 'No jo opravdu',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Adam',\n    message: 'Je báječná',\n    time: '17:03',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n  {\n    username: 'Káťa',\n    message: 'No jo opravdu',\n    time: '16:54',\n    photoUrl: 'https://joyonlineschool.com/static/emptyuserphoto.png',\n  },\n];\n\nfunction Chat(props) {\n  const renderMessages = () => {\n    return sampleMessages.map((msg) => {\n      const { username, message, time, photoUrl } = msg;\n      return (\n        <div className='message d-flex mb-3 align-items-center'>\n          <img src={photoUrl} alt='' className='me-2' />\n          <div className='d-flex flex-column align-items-start'>\n            <span className='username'>{username}</span>\n            <p className='message-text'>{message}</p>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div className='chat'>\n      <h1>Chat</h1>\n      <div className='messages'>{renderMessages()}</div>\n    </div>\n  );\n}\n\nChat.propTypes = {};\n\nexport default Chat;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\n\nimport VideoJS from '../../components/VideoJS';\nimport getFirebase from '../../utils/firebase';\n\nimport Chat from './_Chat';\n\nimport './livestream.scss';\n\nfunction Livestream(props) {\n  let firebase = getFirebase();\n\n  const [videoSrc, setVideoSrc] = useState(null);\n\n  useEffect(() => {\n    fetch('https://larin.cam/issue-stream-url').then((res) => {\n      const url = res.json();\n      console.log(url);\n      setVideoSrc(url);\n    });\n  }, []);\n\n\n  console.log(\"SRC\", videoSrc)\n\n  const videoJsOptions = {\n    // lookup the options in the docs for more options\n    autoplay: true,\n    controls: true,\n    responsive: true,\n    liveui: true,\n    fluid: true,\n    sources: [\n      {\n        src: videoSrc,\n        type: 'application/x-mpegURL',\n      },\n    ],\n  };\n\n  if (!videoSrc) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className='container'>\n      Livestream\n      <div className='row'>\n        <div className='col-12 col-lg-9'>\n          <div className='video-wrapper'>\n            <VideoJS options={videoJsOptions} />\n          </div>\n        </div>\n        <div className='col-12 col-lg-3'>\n          <Chat />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nLivestream.propTypes = {};\n\nexport default Livestream;\n","import React, { useState } from 'react';\nimport { useForm, UseFormProps, SubmitHandler } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport schema from './schema.config';\nimport firebase from 'firebase';\nimport 'firebase/auth';\n\nfunction Register(props) {\n  const formOptions = {\n    mode: 'onSubmit',\n    reValidateMode: 'onChange',\n    resolver: yupResolver(schema),\n  };\n\n  const { handleSubmit, register } = useForm(formOptions);\n\n  const [loading, setLoading] = useState(false);\n\n  const prepareRequest = (formData) => {\n    const { password, username } = formData;\n    const reqData = {\n      username,\n      password,\n    };\n\n    makeRequest(reqData);\n  };\n\n  const makeRequest = async (reqData) => {\n    const { username, password } = reqData;\n    const auth = firebase.auth();\n\n    auth\n      .createUserWithEmailAndPassword(username, password)\n      .then((userCredential) => {\n        const user = userCredential.user;\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  return (\n    <div className='container'>\n      <h1>Join our community</h1>\n      <form\n        action=''\n        onSubmit={handleSubmit(prepareRequest)}\n        className='mt-3 col-12 col-md-5 mx-auto'\n      >\n        <div className='form-group'>\n          <label htmlFor='username'>Email</label>\n          <input\n            {...register('username')}\n            type='text'\n            name='username'\n            className={`form-control rounded mt-2`}\n            id='username'\n          />\n        </div>\n\n        <div className='form-group'>\n          <label htmlFor='password'>Password</label>\n          <input\n            {...register('password', {\n              minLength: {\n                value: 6,\n                message: 'Password length must be at least 6 characters',\n              },\n            })}\n            type='password'\n            name='password'\n            className={`form-control rounded mt-2`}\n            id='password'\n          />\n        </div>\n\n        <button className='btn btn-primary mt-4 w-100' type='submit'>\n          Register\n        </button>\n      </form>\n    </div>\n  );\n}\n\nRegister.propTypes = {};\n\nexport default Register;\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { Login, Livestream, Register } from '../pages';\nimport getFirebase from './firebase';\n\nexport const ROUTES = [\n  {\n    path: '/',\n    key: 'ROOT',\n    exact: true,\n    protected: true,\n    component: () => <Livestream />,\n  },\n  {\n    path: '/login',\n    key: 'LOGIN',\n    exact: true,\n    component: () => <Login />,\n  },\n  {\n    path: '/register',\n    key: 'REGISTER',\n    exact: true,\n    component: () => <Register />,\n  },\n  {\n    path: '/admin',\n    key: 'ADMIN',\n    exact: true,\n    protected: true,\n    component: () => <Livestream />,\n  },\n];\n\nexport function RenderRoutes({ routes }) {\n  const firebase = getFirebase();\n\n  const [authentication, setAuthState] = useState({\n    authenticated: false,\n    initializing: true,\n  });\n\n  useEffect(\n    () =>\n      firebase.auth().onAuthStateChanged((user) => {\n        console.log('USER', user);\n        if (user) {\n          setAuthState({\n            authenticated: true,\n            initializing: false,\n          });\n        } else {\n          setAuthState({\n            authenticated: false,\n            initializing: false,\n          });\n        }\n      }),\n    [setAuthState]\n  );\n\n  if (authentication.initializing) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        {routes.map((route, i) => {\n          if (route.protected) {\n            if (authentication) {\n              return (\n                <Route\n                  path={route.path}\n                  exact={route.exact}\n                  render={(props) => (\n                    <route.component {...props} routes={route.routes} />\n                  )}\n                />\n              );\n            } else {\n              return <Redirect to='/login' />;\n            }\n          }\n          return (\n            <Route\n              path={route.path}\n              exact={route.exact}\n              render={(props) => (\n                <route.component {...props} routes={route.routes} />\n              )}\n            />\n          );\n        })}\n        <Route component={() => <h1>404 - Not Found!</h1>} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n","import { useEffect } from 'react';\nimport './App.scss';\nimport { ROUTES, RenderRoutes } from './utils/routes';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport UserContextProvider from './providers/UserContext';\n\nfunction App() {\n  return (\n    <div className='App'>\n      <UserContextProvider>\n        <RenderRoutes routes={ROUTES}></RenderRoutes>\n      </UserContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}